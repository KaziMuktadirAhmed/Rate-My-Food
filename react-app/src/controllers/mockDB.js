export const d1 = {
  data: {
    geolocation: [
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJOwg_06VPwokRYv534QaPC8g",
          type: "locality",
        },
        name: {
          __typename: "AutocompleteName",
          text: "New York, NY, USA",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 3,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJZYIRslSkIIYRtNMiXuhbBts",
          type: "locality",
        },
        name: {
          __typename: "AutocompleteName",
          text: "New Orleans, LA, USA",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 3,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJLbZ-NFv9DDkRzk0gTkm3wlI",
          type: "locality",
        },
        name: {
          __typename: "AutocompleteName",
          text: "New Delhi, Delhi, India",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 3,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJBXs6ETz9DDkRFllm4f46kfg",
          type: "train_station",
        },
        name: {
          __typename: "AutocompleteName",
          text: "New Delhi Railway Station, Bhavbhuti Marg, Ratan Lal Market, Kamla Market, Ajmeri Gate, New Delhi, Delhi, India",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 3,
            },
          ],
        },
      },
    ],
  },
};

export const d2 = {
  data: {
    geolocation: [
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJGzE9DS1l44kRoOhiASS_fHg",
          type: "locality",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Boston, MA, USA",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 6,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJM_dWOMXC10cRDJGg8UHVBoQ",
          type: "locality",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Boston, UK",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 6,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJKyNuvJ1w44kRBE-pe_yDhj8",
          type: "tourist_attraction",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Boston Common, Boylston Street, Boston, MA, USA",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 6,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJN0na1RRw44kRRFEtH8OUkww",
          type: "airport",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Boston Logan International Airport (BOS), Boston, MA, USA",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 6,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJjSse9T9644kRkREnRJpLeWw",
          type: "pharmacy",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Boston Medical Center, Boston Medical Center Place, Boston, MA, USA",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 6,
            },
          ],
        },
      },
    ],
  },
};

const d3 = {
  data: {
    geolocation: [
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJywtkGTF2X0YRZnedZ9MnDag",
          type: "locality",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Stockholm, Sweden",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 9,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJ6c2SkN93X0YRwJQTkQ3Jr64",
          type: "tourist_attraction",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Stockholm City Hall, Hantverkargatan, Stockholm, Sweden",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 9,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJbfIC9mCdX0YRPbpyttpTxZc",
          type: "train_station",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Stockholms Centralstation, Centralplan, Stockholm, Sweden",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 9,
            },
          ],
        },
      },
    ],
  },
};

const d4 = {
  data: {
    geolocation: [
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJ53USP0nBhkcRjQ50xhPN_zw",
          type: "locality",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Milano, Metropolitan City of Milan, Italy",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJt6eEfHVhhkcR_n7HoFcK8aM",
          type: "airport",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Milano Malpensa Airport, Ferno, VA, Italy",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJQ1j3T8XGhkcRKs-XGhSxJiI",
          type: "train_station",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Milano Centrale, Piazza Duca d'Aosta, Milan, Metropolitan City of Milan, Italy",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJQdEbdyzbmUcRdP9oQSUv__A",
          type: "shopping_mall",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Milaneo Stuttgart, Mailänder Platz, Stuttgart, Germany",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
      },
      {
        __typename: "GeoLocationList",
        type: "google",
        id: {
          __typename: "SearchGeolocationID",
          id: "ChIJDYMynm9QgUcRggAD8frHdwE",
          type: "airport",
        },
        name: {
          __typename: "AutocompleteName",
          text: "Milan Bergamo Airport (BGY), Province of Bergamo, Italy",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
      },
    ],
  },
};

const locationWithId = {
  coordinates: {
    latitude: 45.4642035,
    longitude: 9.189982,
  },
  id_city: 348156,
  prediction: {
    address_components: [
      {
        long_name: "Milan",
        short_name: "Milan",
        types: ["locality", "political"],
      },
      {
        long_name: "Milan",
        short_name: "Milan",
        types: ["administrative_area_level_3", "political"],
      },
      {
        long_name: "Metropolitan City of Milan",
        short_name: "MI",
        types: ["administrative_area_level_2", "political"],
      },
      {
        long_name: "Lombardy",
        short_name: "Lombardy",
        types: ["administrative_area_level_1", "political"],
      },
      {
        long_name: "Italy",
        short_name: "IT",
        types: ["country", "political"],
      },
    ],
    formatted_address: "Milan, Metropolitan City of Milan, Italy",
    geometry: {
      bounds: {
        northeast: {
          lat: 45.535689,
          lng: 9.2903463,
        },
        southwest: {
          lat: 45.3897787,
          lng: 9.0651182,
        },
      },
      location: {
        lat: 45.4642035,
        lng: 9.189982,
      },
      location_type: "APPROXIMATE",
      viewport: {
        northeast: {
          lat: 45.535689,
          lng: 9.2903463,
        },
        southwest: {
          lat: 45.3897787,
          lng: 8.22812,
        },
      },
    },
    place_id: "ChIJ53USP0nBhkcRjQ50xhPN_zw",
    types: ["locality", "political"],
  },
};

const re1 = {
  data: {
    autocomplete: [
      {
        __typename: "SearchAutocompleteRestaurantTag",
        id: "650",
        name: {
          __typename: "AutocompleteName",
          text: "Sushi",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
        categoryId: "6",
      },
      {
        __typename: "SearchAutocompleteRestaurantTag",
        id: "3529",
        name: {
          __typename: "AutocompleteName",
          text: "Parú Sushi",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 5,
              length: 5,
            },
          ],
        },
        categoryId: "9",
      },
      {
        __typename: "SearchAutocompleteRestaurantTag",
        id: "3517",
        name: {
          __typename: "AutocompleteName",
          text: "Fabric Sushi",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 7,
              length: 5,
            },
          ],
        },
        categoryId: "9",
      },
      {
        __typename: "SearchAutocompleteRestaurant",
        id: "750892",
        name: {
          __typename: "AutocompleteName",
          text: "Sushi Moto",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
        zipCode: "SW11 5QF",
        cityName: "London",
        countryName: "United Kingdom",
      },
      {
        __typename: "SearchAutocompleteRestaurant",
        id: "733989",
        name: {
          __typename: "AutocompleteName",
          text: "Kinome Sushi",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 7,
              length: 5,
            },
          ],
        },
        zipCode: "N15 4JB",
        cityName: "London",
        countryName: "United Kingdom",
      },
      {
        __typename: "SearchAutocompleteRestaurant",
        id: "720447",
        name: {
          __typename: "AutocompleteName",
          text: "Tropical Sushi",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 9,
              length: 5,
            },
          ],
        },
        zipCode: "BN3 1AE",
        cityName: "Hove",
        countryName: "United Kingdom",
      },
      {
        __typename: "SearchAutocompleteRestaurant",
        id: "716914",
        name: {
          __typename: "AutocompleteName",
          text: "Sushi Mami",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
        zipCode: "M1 6DN",
        cityName: "Manchester",
        countryName: "United Kingdom",
      },
      {
        __typename: "SearchAutocompleteRestaurant",
        id: "700623",
        name: {
          __typename: "AutocompleteName",
          text: "Kotta Sushi",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 6,
              length: 5,
            },
          ],
        },
        zipCode: "NW8 9EB",
        cityName: "London",
        countryName: "United Kingdom",
      },
      {
        __typename: "SearchAutocompleteRestaurant",
        id: "728046",
        name: {
          __typename: "AutocompleteName",
          text: "Sushi Revolution",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
        zipCode: "SW9",
        cityName: "London",
        countryName: "United Kingdom",
      },
      {
        __typename: "SearchAutocompleteRestaurant",
        id: "743793",
        name: {
          __typename: "AutocompleteName",
          text: "Sushi Salsa",
          highlight: [
            {
              __typename: "AutocompleteHighlight",
              offset: 0,
              length: 5,
            },
          ],
        },
        zipCode: "NW1 7BY",
        cityName: "London",
        countryName: "United Kingdom",
      },
    ],
  },
};

const filterLocationAutocompleteResponse = function (res) {
  let {
    data: { geolocation },
  } = res;
  let filteredRes = geolocation.map((item) => {
    let {
      id: { id, type },
      name: { text },
    } = item;
    return { id, type, location: text };
  });
  console.log(filteredRes);
};

const filterRestuarentAutocompleteResponse = function (res) {
  let {
    data: { autocomplete: data },
  } = res;
  let resturantes = data.filter(
    (item) => item.__typename === "SearchAutocompleteRestaurant"
  );
  console.log(resturantes);
};
// filterRestuarentAutocompleteResponse(re1);

export const requestAutocomplete = async function (
  queryString,
  type,
  latitude = null,
  longitude = null
) {
  let url = `https://the-fork-the-spoon.p.rapidapi.com/${type}/v2/auto-complete?text=${queryString}`;
  if (latitude !== null && longitude !== null)
    url += `&latitude=${latitude}&longitude=${longitude}`;

  const options = {
    method: "GET",
    headers: {
      "X-RapidAPI-Key": "f85c3077admsha136a2e026f03cbp18484bjsnd14e5b467cd6",
      "X-RapidAPI-Host": "the-fork-the-spoon.p.rapidapi.com",
    },
  };

  try {
    const data = await (await fetch(url, options)).json();
    return data;
  } catch (error) {
    throw error;
  }
};

// requestAutocomplete("milan", "restaurants");
filterLocationAutocompleteResponse(
  await requestAutocomplete("china", "locations", 23, 90)
);

filterRestuarentAutocompleteResponse(
  await requestAutocomplete("pasta", "restaurants")
);
